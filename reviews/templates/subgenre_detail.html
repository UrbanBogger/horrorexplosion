{% extends "base_generic.html" %}

{% block title %}
<title>{{ page_title }}</title>
{% endblock %}

{% block meta_description %}
<meta name="description" content="{{ meta_content_description }}">
{% endblock %}

{% block main_content %}
<h1>Subgenre: "{{ subgenre }}"</h1>

{% if subgenre.description %}
<h2>About</h2>
<p>{{ subgenre.description }}</p>
{% endif %}

{% load app_filters %}
{% if all_media_objects|get_all_media_objects:"Full-length Film"|length > 0 %}
<h2>Feature Films Belonging to the Subgenre:</h2>
{% include 'metadata_list_template.html' with metadata_objects=all_media_objects|get_all_media_objects:"Full-length Film" %}
{% endif %}

{% if all_media_objects|get_all_media_objects:"TV Series"|length > 0 %}
<h2>TV Series Belonging to the Subgenre:</h2>
{% include 'metadata_list_template.html' with metadata_objects=all_media_objects|get_all_media_objects:"TV Series" %}
{% endif %}

{% if all_media_objects|get_all_media_objects:"Animated Short"|length > 0 %}
<h2>Animated Shorts Belonging to the Subgenre:</h2>
{% include 'metadata_list_template.html' with metadata_objects=all_media_objects|get_all_media_objects:"Animated Short" %}
{% endif %}

{% if not  all_media_objects %}
<strong>No database entries for the keyword</strong>
{% endif %}
{% endblock %}

{% block pagination %}
{% if all_media_objects.has_other_pages %}
<nav aria-label="Page navigation">
    <ul class="pagination">
        {% if all_media_objects.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ all_media_objects.previous_page_number }}">Previous</a>
            {% else %}
        <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1">Previous</a></li>
        {% endif %}
        {% for i in all_media_objects.paginator.page_range %}
        {% if all_media_objects.number == i %}
        <li class="page-item active"><a class="page-link" href="#">{{ i }}<span class="sr-only">(current)</span></a></li>
        {% else %}
        <li><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
        {% endif %}
        {% endfor %}
        {% if all_media_objects.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ all_media_objects.next_page_number }}">Next</a></li>
        {% else %}
        <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1">Next</a></li>
        {% endif %}
    </ul>
</nav>
{% endif %}
{% endblock %}